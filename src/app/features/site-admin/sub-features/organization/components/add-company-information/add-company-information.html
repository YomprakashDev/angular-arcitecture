<!-- Company Information -->
<div class="w-full p-6">
  <form [formGroup]="formGroup" class="overflow-auto" novalidate>
    <div class="flex flex-col gap-6 md:flex-row">
      <!-- Upload -->
      <div class="flex justify-center flex-shrink-0 md:justify-start">
        <div class="min-w-[176px] h-[140px] flex items-center justify-center rounded-xl {{ logoPreview ? '' : 'border-2 border-dashed border-[#BFBFBF] bg-[#ECF4FF]' }}">
          @if(logoPreview){
            <img [src]="logoPreview" alt="Logo Preview" class="object-cover w-full h-full rounded" />
          } @else{
            <label for="logo" class="flex flex-col items-center gap-2 text-center cursor-pointer">
              <div class="p-3 rounded-full">
                <img src="/assets/images/common/uploadimg-placeholder.png" class="h-9 w-9" alt="Upload Logo" />
              </div>
              <div class="text-sm font-semibold text-[#182330]">
                <span class="text-[#1B79E7]">Upload</span> Your Logo
              </div>
              <p class="text-xs text-[#7E7A88]">Supported JPG, JPEG, PNG</p>
              <input id="logo" type="file" accept="image/*" class="sr-only" (change)="onLogoSelected($event)" />
            </label>
          }
        </div>
      </div>

      <!-- Right side form -->
      <div class="flex flex-col flex-1 gap-6">
        <!-- Row 1: Org Name + Industry -->
        <div class="grid grid-cols-10 gap-6">
          <div class="col-span-7">
            <label class="block mb-2 text-sm font-semibold text-[#262626]">
              Organization Name <span class="text-[#DA1414]">*</span>
            </label>
            <input
              formControlName="organization"
              type="text"
              placeholder="Enter Organization Name"
              class="w-full px-3 py-2 text-sm placeholder-[#7E7A7F] bg-white rounded-lg font-medium focus:outline-none focus:ring-2 focus:ring-indigo-100"
              [class.border-red-300]="isInvalid('organization')"
            />
            @if (isInvalid('organization')) {
              <p class="mt-1 text-xs text-red-600">Organization name is required.</p>
            }
          </div>

          <div class="col-span-3">
            <label class="block mb-2 text-sm font-semibold text-[#262626]">
              Industry / Sector <span class="text-[#DA1414]">*</span>
            </label>
            <div class="relative">
              <select formControlName="industry" class="w-full px-3 py-2 text-sm bg-white rounded-lg appearance-none">
                <option [ngValue]="null" selected>Select</option>
                <option *ngFor="let ind of industries" [ngValue]="ind.id">{{ ind.name }}</option>
              </select>
              <svg class="absolute w-5 h-5 text-gray-400 -translate-y-1/2 pointer-events-none right-3 top-1/2" viewBox="0 0 20 20" fill="currentColor">
                <path fill-rule="evenodd" d="M5.23 7.21a.75.75 0 011.06.02L10 10.94l3.71-3.71a.75.75 0 111.06 1.06l-4.24 4.24a.75.75 0 01-1.06 0L5.21 8.29a.75.75 0 01.02-1.08z" clip-rule="evenodd"/>
              </svg>
              @if (isInvalid('industry')) {
                <p class="mt-1 text-xs text-red-600">Select an industry.</p>
              }
            </div>
          </div>
        </div>

        <!-- Row 2: Org URL + GST + PAN (UI only) -->
        <div class="grid grid-cols-4 gap-6">
          <div class="col-span-2">
            <label class="block mb-2 text-sm font-semibold text-[#262626]">Organization URL</label>
            <div class="flex w-full">
              <div class="inline-flex items-center text-sm text-gray-500">
                https://contracts.yourdomain.com/
              </div>
              <input
                formControlName="webURL" 
                type="text"
                placeholder="organization-name"
                class="flex-1 py-2 text-sm placeholder-[#7E7A7F] bg-white rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-100"
              />
            </div>
          </div>

          <div>
            <label class="block mb-2 text-sm font-semibold text-[#262626]">GST Number</label>
            <input
              formControlName="gstNumber"
              type="text"
              placeholder="Enter GST Number"
              class="w-full px-3 py-2 text-sm placeholder-gray-400 bg-white rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-100"
            />
          </div>

          <!-- PAN: UI only (no formControlName) -->
          <div>
            <label class="block mb-2 text-sm font-semibold text-[#262626]">PAN Number</label>
            <input
              type="text"
              placeholder="Enter PAN Number"
              class="w-full px-3 py-2 text-sm placeholder-gray-400 bg-white rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-100"
            />
          </div>
        </div>
      </div>
    </div>

    <!-- Middle -->
    <div class="grid w-full grid-cols-1 gap-4 mt-2 md:grid-cols-2">
      <div>
        <label class="block mb-2 text-sm font-semibold text-[#262626]">
          Street Address <span class="text-[#DA1414]">*</span>
        </label>
        <textarea
          formControlName="address"
          rows="5"
          placeholder="Enter Street Address"
          [class.border-red-300]="isInvalid('address')"
          class="w-full px-3 py-2 text-sm placeholder-gray-400 bg-white rounded-lg resize-none focus:outline-none focus:ring-2 focus:ring-indigo-100"
        ></textarea>
        @if (isInvalid('address')) {
          <p class="mt-1 text-xs text-red-600">Street address is required.</p>
        }
      </div>

      <div class="grid grid-cols-1 gap-4 sm:grid-cols-3">
        <div>
          <label class="block mb-2 text-sm font-semibold text-[#262626]">
            Zip Code / Postal Code <span class="text-[#DA1414]">*</span>
          </label>
          <input
            formControlName="zipCode"
            type="text"
            placeholder="123456"
            minlength="4"
            [class.border-red-300]="isInvalid('zipCode')"
            class="w-full px-3 py-2 text-sm placeholder-gray-400 bg-white rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-100"
          />
          @if (isInvalid('zipCode')) {
            <p class="mt-1 text-xs text-red-600">Enter a valid zip / postal code.</p>
          }
        </div>

        <div>
          <label class="block mb-2 text-sm font-semibold text-[#262626]">
            Country <span class="text-[#DA1414]">*</span>
          </label>
          <select formControlName="countryID" class="w-full px-3 py-2 text-sm bg-white rounded-lg appearance-none">
            <option [ngValue]="null" selected>Select</option>
            <option *ngFor="let c of countries" [ngValue]="c.id">{{ c.name }}</option>
          </select>
          @if (isInvalid('countryID')) {
            <p class="mt-1 text-xs text-red-600">Country is required.</p>
          }
        </div>

        <div>
          <label class="block mb-2 text-sm font-semibold text-[#262626]">
            State <span class="text-[#DA1414]">*</span>
          </label>
          <select formControlName="stateID" class="w-full px-3 py-2 text-sm bg-white rounded-lg appearance-none">
            <option [ngValue]="null" selected>Select</option>
            <option *ngFor="let s of states" [ngValue]="s.id">{{ s.name }}</option>
          </select>
          @if (isInvalid('stateID')) {
            <p class="mt-1 text-xs text-red-600">State is required.</p>
          }
        </div>

        <div>
          <label class="block mb-2 text-sm font-semibold text-[#262626]">
            Currency <span class="text-[#DA1414]">*</span>
          </label>
          <select formControlName="currency" class="w-full px-3 py-2 text-sm bg-white rounded-lg appearance-none">
            <option [ngValue]="null" selected>Select</option>
            <option *ngFor="let cur of currencies" [ngValue]="cur.id">{{ cur.name }}</option>
          </select>
          @if (isInvalid('currency')) {
            <p class="mt-1 text-xs text-red-600">Currency is required.</p>
          }
        </div>

        <div>
          <label class="block mb-2 text-sm font-semibold text-[#262626]">
            Time Zone <span class="text-[#DA1414]">*</span>
          </label>
          <select formControlName="timeZone" class="w-full px-3 py-2 text-sm bg-white rounded-lg appearance-none">
            <option value="" selected>Select</option>
            <option *ngFor="let tz of timezones" [value]="tz">{{ tz }}</option>
          </select>
          @if (isInvalid('timeZone')) {
            <p class="mt-1 text-xs text-red-600">Time zone is required.</p>
          }
        </div>
      </div>
    </div>

    <!-- Contact Details -->
    <div class="">
      <div class="pt-1">
        <h3 class="text-lg font-bold text-[#182330]">Contact Details</h3>
      </div>

      <div class="grid grid-cols-1 gap-4 md:grid-cols-3">
        <div class="col-span-1">
          <label class="block mb-2 text-sm font-semibold text-[#262626]">
            Contact Person Name <span class="text-[#DA1414]">*</span>
          </label>
          <input
            formControlName="contactPersonName"
            type="text"
            placeholder="Enter Contact Person Name"
            [class.border-red-300]="isInvalid('contactPersonName')"
            class="w-full px-3 py-2 text-sm placeholder-gray-400 bg-white rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-100"
          />
          @if (isInvalid('contactPersonName')) {
            <p class="mt-1 text-xs text-red-600">Contact person name is required.</p>
          }
        </div>

        <div class="col-span-1">
          <label class="block mb-2 text-sm font-semibold text-[#262626]">
            Email <span class="text-[#DA1414]">*</span>
          </label>
          <input
            formControlName="emailID"
            type="email"
            placeholder="Enter Email"
            [class.border-red-300]="isInvalid('emailID')"
            autocomplete="email"
            class="w-full px-3 py-2 text-sm placeholder-gray-400 bg-white rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-100"
          />
          @if (isInvalid('emailID')) {
            <p class="mt-1 text-xs text-red-600">Enter a valid email address.</p>
          }
        </div>

        <div class="col-span-1">
          <label class="block mb-2 text-sm font-semibold text-[#262626]">
            Contact Number <span class="text-[#DA1414]">*</span>
          </label>
          <input
            formControlName="contactNumber"
            type="tel"
            maxlength="20"
            placeholder="Enter Contact Number"
            [class.border-red-300]="isInvalid('contactNumber')"
            autocomplete="tel"
            class="w-full px-3 py-2 text-sm placeholder-gray-400 bg-white rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-100"
          />
          @if (isInvalid('contactNumber')) {
            <p class="mt-1 text-xs text-red-600">Enter a valid phone number.</p>
          }
        </div>

        <!-- Team Size: UI-only (no control) -->
        <div class="w-full max-w-2xs">
          <label class="block mb-2 text-sm font-semibold text-[#262626]">Team Size</label>
          <div class="relative">
            <select class="w-full px-3 py-2 text-sm bg-white rounded-lg appearance-none">
              <option value="" selected>Select</option>
              <option *ngFor="let ts of teamSizes" [value]="ts">{{ ts }}</option>
            </select>
            <svg class="absolute w-5 h-5 text-gray-400 -translate-y-1/2 pointer-events-none right-3 top-1/2" viewBox="0 0 20 20" fill="currentColor">
              <path fill-rule="evenodd" d="M5.23 7.21a.75.75 0 011.06.02L10 10.94l3.71-3.71a.75.75 0 111.06 1.06l-4.24 4.24a.75.75 0 01-1.06 0L5.21 8.29a.75.75 0 01.02-1.08z" clip-rule="evenodd"/>
            </svg>
          </div>
        </div>

        <!-- REMOVE this extra Website URL block or bind to webURL if you need it.
             Keeping it UI-only with no validation: -->
        <div class="flex-1">
          <label class="block mb-2 text-sm font-semibold text-[#262626]">Website URL</label>
          <input
            type="url"
            placeholder="Enter URL"
            autocomplete="url"
            class="w-full px-3 py-2 text-sm placeholder-gray-400 bg-white rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-100"
          />
        </div>
      </div>
    </div>
  </form>
</div>
