<!-- add-oraganization-model.html -->
<div class="fixed inset-0 flex items-center justify-center z-50" role="dialog" aria-modal="true">
  <div class="bg-white rounded-lg shadow-lg w-full max-w-[80%]">
    <!-- header -->
    <div class="flex items-center justify-between px-4 py-6 shadow-[0px_6px_6px_0px_#00000008]">
      <h2 class="text-xl font-bold">Add Company Details</h2>
      <div><app-stepper [currentStep]="currentStep()"></app-stepper></div>
      <button type="button" (click)="closeModal()" class="text-gray-500 hover:text-gray-700" aria-label="Close">
        <lucide-angular [img]="closeIcon" class="w-6 h-6 cursor-pointer"></lucide-angular>
      </button>
    </div>

    <!-- body -->
    <div class="p-4">
      <div class="rounded-xl border border-gray-200 bg-[#F0F2F5]">
        @if (currentStep() === 0) {
          <app-add-company-information [formGroup]="organizationForm"></app-add-company-information>
        } @if (currentStep() === 1) {
          <app-add-package-information [formGroup]="packageForm"></app-add-package-information>
        } @if (currentStep() === 2) {
          <app-support-credentials></app-support-credentials>
        }
      </div>
    </div>

    <!-- footer -->
    <div class="flex items-center justify-center space-x-4 p-4">
      @if (!isFirstStep()) {
        <button
          type="button"
          (click)="prevStep()"
          class="flex items-center gap-2 px-4 py-2 border border-[#7E7A88] font-bold text-[#7E7A88] bg-transparent rounded">
          Previous
        </button>
      } @else {
        <!-- minimal: Cancel now actually closes -->
        <button
          type="button"
          (click)="closeModal()"
          class="flex items-center gap-2 px-4 py-2 border border-[#7E7A88] font-bold text-[#7E7A88] bg-transparent rounded">
          Cancel
        </button>
      }

      @if (!isLastStep()) {
        <!-- minimal: disable Next if current step is invalid -->
        <button
          type="button"
          (click)="nextStep()"
  
          class="flex items-center gap-2 px-4 py-2 text-white bg-[#6D7BFA] rounded">
          Next
        </button>
      } @else {
        <button
          (click)="save()"
          type="button"
          class="flex items-center gap-2 px-4 py-2 text-white bg-[#6D7BFA] rounded">
          Save
        </button>
      }
    </div>
  </div>
</div>
